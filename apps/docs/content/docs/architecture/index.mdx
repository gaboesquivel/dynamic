---
title: "Architecture"
description: "Overview of the Vencura monorepo architecture, including portable-by-default design, application structure, packages, and coding standards."
---

This monorepo follows a modular architecture with clear separation between applications, shared packages, and infrastructure. **Built with portability in mind - deploy anywhere without vendor lock-in.**

## Portable by Default

**Critical architectural principle**: Our stack is designed for portability and runs on any Linux distribution:

- **Default approach**: Avoid vendor-specific features to maintain portability
- **Pragmatic exceptions**: Can leverage vendor features (e.g., Vercel edge functions, optimizations) when scaling/performance needs justify from product/business perspective
- **Platform-agnostic**: Can be deployed to any containerized platform (Docker, Kubernetes, etc.)
- **Vercel as convenience**: Vercel is chosen for rapid deployment and excellent developer experience, not as a requirement
- **All core components** can be migrated to any platform without code changes

**Current Deployment**: All applications (UI + API) are currently deployed on **Vercel**. We are NOT splitting the architecture now - everything stays on Vercel to leverage its unparalleled shipping and distribution capabilities.

## Architecture Structure

```
dynamic/
├── apps/              # Applications
│   ├── api/           # Elysia backend API (multichain custodial wallet platform)
│   ├── next/          # Next.js frontend for Vencura API (multichain support)
│   ├── docs/          # Documentation site (Fumadocs)
│   ├── mathler/       # Next.js Mathler game (Wordle with numbers)
│   └── elysia/        # Elysia template/example app
├── packages/          # Shared packages
│   ├── core/          # TypeScript SDK for Vencura API (contract-first)
│   ├── react/         # React hooks for Vencura API using TanStack Query
│   ├── types/         # Shared API contracts and types (Zod schemas, ts-rest contracts)
│   ├── ui/            # Shared Shadcn/ui component library
│   ├── lib/           # Shared utility library (@vencura/lib)
│   ├── evm/           # EVM token contract ABIs and utilities
│   └── tools/         # Development tools enabled by feature flags
├── config/            # Shared configurations
│   ├── eslint/        # Shared ESLint configuration
│   └── typescript/    # Shared TypeScript configuration
├── contracts/         # Smart contracts
│   ├── evm/           # EVM contracts (Foundry)
│   └── solana/        # Solana programs (Anchor)
└── infra/             # Infrastructure as Code
    └── vencura/       # Pulumi infrastructure for Vencura API
```

**Applications** (`apps/`) are deployable services with their own dependencies and configurations. **Packages** (`packages/`) provide shared code and utilities consumed by applications. **Config** (`config/`) contains shared configuration packages for ESLint and TypeScript. **Infrastructure** (`infra/`) contains infrastructure-as-code definitions using Pulumi.

## Standards & Conventions

This project follows strict coding standards enforced through Cursor rules and documented in Architecture Decision Records (ADRs).

### Key Patterns

- **Mobile-First Design**: All frontend components follow mobile-first responsive design
- **RORO Pattern**: Functions with multiple parameters use Receive Object, Return Object pattern
- **Type Inference**: Always enforce type inference - define return types in functions when needed
- **Functional Code**: Prefer functional and declarative programming patterns

### Cursor Rules

Code standards are defined in `.cursor/rules/` organized by domain:

- **Base**: TypeScript, Environment, General, MCP
- **Frontend**: React, Next.js, React Hooks, Mobile-First, ShadcnUI, Stack, Testing
- **Backend**: Elysia, Testing
- **Web3**: Viem, Wagmi, Solana, Multichain, Solidity, Ponder, Cosmos

See [Cursor Rules](/.cursor/rules/) for detailed patterns and guidelines.

## Projects

### Applications

- **Vencura API** (`apps/api`) - Elysia backend for multichain custodial wallet management
- **Vencura Next** (`apps/next`) - Next.js frontend for Vencura API
- **Documentation Site** (`apps/docs`) - Fumadocs-based documentation site
- **Mathler** (`apps/mathler`) - Next.js Mathler game

### Packages

- **@vencura/core** - TypeScript SDK for Vencura API (contract-first)
- **@vencura/react** - React hooks with TanStack Query for Vencura API
- **@vencura/types** - Shared API contracts and types (Zod schemas, ts-rest contracts)
- **@vencura/evm** - EVM token contract ABIs and utilities
- **@vencura/lib** - Shared utility library (error handling, async utilities, env validation)
- **@vencura/tools** - Development tools enabled by feature flags
- **@vencura/ui** - Shared Shadcn/ui component library

See individual READMEs for detailed documentation on each app and package.

### Contracts

- **EVM Contracts** - Foundry-based test token contracts for EVM chains
- **Solana Contracts** - Anchor-based test token programs for Solana

